<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> Ứng dụng quản lý sản phẩm sử dụng hàm</title>
    <style >
        table{
            text-align: center;
        }
    </style>
</head>
<body>
<form>
    <h3>Add New Product</h3>
    <input type="text" id ="input" size="10">
    <button type="button" onclick="ThemSanPham(arr)" >ADD</button>
</form>

<p id="output"></p>

</body>
<script>
    let arr =["Sony","SamSung","Nokia","Xiaomi","Apple","Oppo","Iphone8S"]
    function HienThiDanhSach(arr) {
        let num = "<table border='1' cellpadding='3' cellspacing='0' width='300'  >"
        for (let i = 0; i < arr.length ; i++) {
            num += "<tr>"
            for (let j = 1; j < 2 ; j++) {
                num +="<td>" + (i + 1) +"</td>"
                num +="<td>" + arr[i]+"</td>"
                num +="<td>" + "<button type='button' onclick='suaTenSanPham("+i+")'> Chỉnh Sửa </button>" +"</td>"
                num +="<td>" + "<button type='button' onclick='XoaSanPham("+i+")'> Xoá </button>" +"</td>"
            }
            num +="</tr>"
        }
        num = num +"</table>"
        document.getElementById("output").innerHTML = num;
    }
    function ThemSanPham(value) {
        let a = document.getElementById("input").value
         arr.push(a)
        HienThiDanhSach(arr)
    }
    function suaTenSanPham(value) {
        let num = "<table border='1' cellpadding='3' cellspacing='0' width='300'  >"
        for (let i = 0; i < arr.length ; i++) {
            num += "<tr>"
            for (let j = 1; j < 2 ; j++) {
                num +="<td>" + (i + 1) +"</td>"
                if(i == value ) {
                    num +="<td><input type='text' id='edit'></td>"
                } else {
                    num +="<td>" + arr[i]+"</td>"
                }

                num +="<td>" + "<button type='button' onclick='suaTenSanPham2("+i+")'> Chỉnh Sửa </button>" +"</td>"
                num +="<td>" + "<button type='button' onclick='XoaSanPham("+i+")'> Xoá </button>" +"</td>"
            }
            num +="</tr>"
        }
        num = num +"</table>"
        document.getElementById("output").innerHTML = num;

    }
    function suaTenSanPham2(value){
        let edit  = document.getElementById("edit").value;
        arr[value] = edit;
        HienThiDanhSach(arr)
    }
    function XoaSanPham(value) {
        arr.splice(value,1);
        HienThiDanhSach(arr)
    }
    HienThiDanhSach(arr)
</script>
</html>